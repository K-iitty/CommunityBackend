# 社区客户端后端 - Community Client Backend

![Version](https://img.shields.io/badge/version-1.0.0-blue) ![Java](https://img.shields.io/badge/Java-17-orange) ![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.3.4-brightgreen) ![License](https://img.shields.io/badge/license-MIT-green)

## 项目概述

`CommunityClient-Backend` 是 **社区数字化管理平台** 的核心后端服务，基于 Spring Boot 构建，是一个多模块化的 Maven 项目。它为社区中的不同角色（业主、物业、管理员）提供稳定、高效的 API 服务，以支撑小程序和 Web 管理系统等前端应用。

---

## 模块结构

本项目采用多模块设计，将不同角色的业务逻辑清晰地分离到独立的模块中，便于独立开发、测试和维护。

| 模块 | 描述 | 默认端口 |
| :--- | :--- | :--- |
| `admin-module` | **管理模块**：为系统管理员提供后台管理功能，如系统配置、权限管理、数据统计等。 | `8080` |
| `owner-module` | **业主模块**：为社区业主提供服务，如信息查询、报事报修、账单查看等。 | `8081` |
| `property-module` | **物业模块**：为物业管理人员提供服务，如工单处理、信息发布、住户管理等。 | `8082` |

---

## 技术栈

| 类别 | 技术 | 版本/说明 |
| :--- | :--- | :--- |
| **核心框架** | Spring Boot | `3.3.4` |
| **开发语言** | Java | `17` |
| **数据库 ORM** | MyBatis Plus | `3.5.6` |
| **数据库** | MySQL | `8.0+` |
| **缓存** | Redis | 热点数据缓存，提升性能 |
| **安全认证** | Spring Security + JWT | `0.11.5`，实现无状态认证 |
| **API 文档** | Knife4j + SpringDoc | `4.4.0`，提供强大的在线 API 测试 |
| **对象存储** | Aliyun OSS | `3.17.4`，用于文件存储 |
| **AI 集成** | Spring AI Alibaba | `1.0.0-M6.1`，集成通义千问大模型 |

---

## 核心功能

### 管理模块 (`admin-module`)

- **系统与安全**
  - `系统管理员管理`: 对系统管理员进行管理。
  - `登录与认证`: 提供管理员的登录、注册、退出及信息获取功能。
  - `角色管理`: 对角色信息进行管理，并支持多条件搜索。
  - `操作日志`: 记录并查询所有管理员的操作日志。

- **社区基础数据**
  - `社区管理`: 对社区信息进行管理，并提供统计功能。
  - `楼栋管理`: 对楼栋信息进行管理。
  - `房屋管理`: 对房屋信息进行管理，并支持户型图上传。
  - `部门管理`: 对物业部门进行管理。

- **人员与资产**
  - `业主管理`: 对业主档案进行完整的管理，并支持证件照片上传。
  - `员工管理`: 对物业员工档案进行完整的管理，并支持证件照片上传。
  - `车辆管理`: 对车辆信息进行管理，并支持相关照片上传。
  - `停车场管理`: 对停车场、车位、停车记录进行全面的管理。

- **设备与计量**
  - `门禁设备`: 对门禁设备及其通行记录进行管理。
  - `表计管理`: 对表计类型（配置）、表计信息、抄表记录进行全面的管理。

- **内容与互动**
  - `社区公告`: 发布、修改、删除社区公告，支持图片上传。
  - `业主问题处理`: 查看、指派和跟进业主提交的问题反馈。
  - `智能问答知识库`: 管理AI客服的知识库文档，支持上传pdf等格式的文件。

### 业主模块 (`owner-module`)

- **认证与个人中心**
  - `认证管理`: 提供业主登录、注册、找回密码功能。
  - `个人信息`: 查看和修改个人档案，查询名下资产（房屋、车辆、车位）。
  - `文件上传`: 提供统一的图片（如头像、身份证）上传接口。

- **资产管理**
  - `房屋管理`: 申请与房屋的关联，查看房屋详情，解除关联。
  - `车辆管理`: 申请添加新车辆，查看、修改、删除名下车辆。
  - `车位管理`: 申请关联车位，查看车位详情，搜索可用车位。

- **生活服务**
  - `账单管理`: 查看各类待缴费账单（仪表、停车、报修等），查询历史缴费记录。
  - `仪表管理`: 查看名下仪表列表和详情，提交新增或删除仪表的申请。

- **社区互动**
  - `社区公告`: 查看、搜索和筛选社区公告。
  - `问题反馈`: 提交问题反馈，查看处理进度，追加描述和进行服务评价。
  - `物业联系`: 查询物业各部门及负责人的联系方式。
  - `智能客服`: 提供基于知识库和AI大模型的智能问答服务，支持流式输出）。

### 物业模块 (`property-module`)

- **认证与个人中心**
  - `认证管理`: 提供物业员工登录、退出、修改密码功能。
  - `个人信息`: 查看和修改个人档案（包含部门、角色、照片等）。

- **信息查询**
  - `部门信息`: 查看自己所在部门及部门成员列表。
  - `业主查询`: 分页查询社区所有业主信息，查看业主详情。

- **核心业务管理**
  - `房屋管理`: 对社区内的房屋信息进行全面的增、删、改、查。
  - `车辆管理`: 对社区内的车辆信息进行全面的增、删、改、查。
  - `车位管理`: 对停车场和车位信息进行全面的增、删、改、查。
  - `仪表管理`: 对社区内的仪表和抄表记录进行全面的增、删、改、查。
  - `公告管理`: 对社区公告进行增、删、改、查。

- **工单处理**
  - `问题反馈处理`: 查询分配给自己的问题单，查看详情，指派，更新状态，并添加跟进记录。

- **通用功能**
  - `文件上传`: 提供统一的图片上传接口。
  - `实时同步`: 提供SSE接口，用于各端（Web、小程序）实时接收数据变更通知。

---

## 功能展示

![image-20251103174624540](./assets/image-20251103174634872.png)

![image-20251103174648768](./assets/image-20251103174648768.png)![image-20251103174702768](./assets/image-20251103174702768.png)

![image-20251103174715983](./assets/image-20251103174715983.png)

![image-20251103174722353](./assets/image-20251103174722353.png)

![image-20251103180115503](./assets/image-20251103180115503.png)

![image-20251103180139888](./assets/image-20251103180139888.png)

![image-20251103180154886](./assets/image-20251103180154886.png)



![image-20251103180210848](./assets/image-20251103180210848.png)

![image-20251103180228309](./assets/image-20251103180228309.png)

![image-20251103180242966](./assets/image-20251103180242966.png)

![image-20251103180258256](./assets/image-20251103180258256.png)![image-20251103180321084](./assets/image-20251103180321084.png)

---

## 📝 功能特点总结

### 集成化功能

| 功能 | 说明 | 受益人 |
|-----|------|-------|
| **智能问答系统** | 集成大模型，AI驱动的智能客服 | 业主、物业、管理员 |
| **文件管理** | 支持多种格式（PDF、Word等）处理和上传 | 全部用户 |
| **数据统计** | 完整的数据分析和统计功能 | 管理员、物业 |
| **权限管理** | 细粒度的权限控制 | 管理员 |
| **审计日志** | 完整的操作追踪记录 | 管理员 |
| **多端支持** | Web、小程序等多种客户端支持 | 全部用户 |
| **云存储** | 阿里云OSS集成 | 全部用户 |
| **缓存优化** | Redis缓存提升性能 | 系统整体 |
| **异步处理** | 支持高并发场景 | 系统整体 |

### 用户端功能

| 用户类型 | 核心功能 | 优势 |
|--------|--------|------|
| **业主** | 通知、反馈、查询、智能客服 | 便捷的社区服务体验 |
| **物业** | 管理、处理、维护、统计 | 高效的物业管理工具 |
| **管理员** | 配置、权限、审计、分析 | 完整的系统控制能力 |

---

## 快速开始

### 环境要求

- **Java 17**
- **Maven 3.6+**
- **MySQL 8.0+**
- **Redis 6.0+**

### 启动步骤

1.  **克隆项目**
    ```bash
    git clone <repository-url>
    cd CommunityClient-Backend
    ```

2.  **数据库配置**
    - 创建一个名为 `community` 的数据库。
    - 在各模块的 `application.yml` 文件中，修改 `spring.datasource`、`spring.data.redis` 等配置，以匹配您的本地环境。

3.  **构建项目**
    ```bash
    mvn clean install
    ```

4.  **运行模块**
    您可以根据需要，独立运行以下任何一个模块：

    - **运行管理模块 (端口: 8080)**
      ```bash
      mvn -pl admin-module spring-boot:run
      ```
      API 文档: [http://localhost:8080/doc.html](http://localhost:8080/doc.html)

    - **运行业主模块 (端口: 8081)**
      ```bash
      mvn -pl owner-module spring-boot:run
      ```
      API 文档: [http://localhost:8081/doc.html](http://localhost:8081/doc.html)

    - **运行物业模块 (端口: 8082)**
      ```bash
      mvn -pl property-module spring-boot:run
      ```
      API 文档: [http://localhost:8082/doc.html](http://localhost:8082/doc.html)

---

## API 文档

每个模块启动后，都可以通过 `Knife4j` 访问其独立的、交互式的 API 文档。

- **管理模块**: [http://localhost:8080/doc.html](http://localhost:8080/doc.html)
- **业主模块**: [http://localhost:8081/doc.html](http://localhost:8081/doc.html)
- **物业模块**: [http://localhost:8082/doc.html](http://localhost:8082/doc.html)

---

## 许可证

本项目采用 [MIT](https://opensource.org/licenses/MIT) 许可证。
